{% extends "layout.html" %}
{% block title %}Dashboard Piloto{% endblock %}
{% block content %}
    <h3>Dashboard do Piloto: {{ display.nome_piloto }}</h3>
    <p>Escuderia Atual: {{ display.nome_escuderia }}</p>
    <hr>

    {% if anos and anos.rows %}
    <p><strong>Período de Atividade:</strong> {{ anos.rows[0][0] }} - {{ anos.rows[0][1] }}</p>
    {% endif %}

    <h4 class="mt-4">Desempenho por Ano e Circuito</h4>
    <div class="table-responsive" style="max-height: 400px;">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    {% for header in desempenho.headers %}
                        <th>{{ header }}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
                {% for row in desempenho.rows %}
                <tr>
                    {% for cell in row %}
                        <td>{{ cell }}</td>
                    {% endfor %}
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <h4 class="mt-5">Relatórios Disponíveis</h4>
    <div class="list-group">
        <a href="{{ url_for('relatorio', nome_relatorio='piloto_pontos') }}" class="list-group-item list-group-item-action">
            Relatório 6: Pontos Obtidos por Corrida
        </a>
        <a href="{{ url_for('relatorio', nome_relatorio='piloto_status') }}" class="list-group-item list-group-item-action">
            Relatório 7: Resultados por Status (Piloto)
        </a>
    </div>
{% endblock %}